<div class="bg-white dark:bg-dark-bg-secondary rounded-lg shadow p-6">
  <%= form_with(model: customer) do |form| %>
    <% if customer.errors.any? %>
      <div class="bg-red-100 dark:bg-red-900 border border-red-400 dark:border-red-800 text-red-700 dark:text-red-200 px-4 py-3 rounded mb-4">
        <h2 class="text-lg font-medium"><%= pluralize(customer.errors.count, "erro") %> impediram que este cliente fosse salvo:</h2>
        <ul class="list-disc pl-5 mt-2">
          <% customer.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <div class="mb-4">
      <%= form.label :name, "Nome", class: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" %>
      <%= form.text_field :name, class: "w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 bg-white dark:bg-dark-bg-tertiary text-gray-900 dark:text-gray-100" %>
    </div>

    <div class="mb-4">
      <%= form.label :email, "Email", class: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" %>
      <%= form.email_field :email, class: "w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 bg-white dark:bg-dark-bg-tertiary text-gray-900 dark:text-gray-100" %>
    </div>

    <div class="mb-4">
      <%= form.label :phone, "Telefone (formato internacional)", class: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" %>
      <div class="mt-1">
        <%= form.telephone_field :phone, 
            placeholder: "Exemplo: +5519996664088 (Brasil), +1234567890 (EUA)", 
            class: "w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 bg-white dark:bg-dark-bg-tertiary text-gray-900 dark:text-gray-100" %>
        <p class="mt-1 text-sm text-gray-500">Inclua o código do país com + no início (Ex: +55 para Brasil, +1 para EUA)</p>
      </div>
    </div>

    <div class="mb-4">
      <%= form.label :status, "Status", class: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" %>
      <%= form.select :status, Customer.statuses.keys.map { |status| [status.humanize, status] }, {}, class: "w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 bg-white dark:bg-dark-bg-tertiary text-gray-900 dark:text-gray-100" %>
    </div>

    <div class="mb-4">
      <%= form.label :plan_type, "Tipo de Plano", class: "block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1" %>
      <%= form.select :plan_type, Customer.plan_types.keys.map { |plan_type| [plan_type.humanize, plan_type] }, {}, class: "w-full px-3 py-2 border border-gray-300 dark:border-gray-700 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:focus:ring-indigo-400 bg-white dark:bg-dark-bg-tertiary text-gray-900 dark:text-gray-100" %>
    </div>

    <div class="flex justify-end mt-6">
      <%= link_to "Cancelar", customers_path, class: "mr-2 px-4 py-2 border border-gray-300 dark:border-gray-700 rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-dark-bg-tertiary hover:bg-gray-50 dark:hover:bg-dark-bg-primary" %>
      <%= form.submit customer.new_record? ? "Criar Cliente" : "Atualizar Cliente", class: "px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white font-medium rounded-md dark:bg-indigo-700 dark:hover:bg-indigo-800" %>
    </div>
  <% end %>
</div>